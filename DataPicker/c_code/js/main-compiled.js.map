{"version":3,"sources":["main.js"],"names":[],"mappings":"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","file":"main-compiled.js","sourcesContent":["/**\n * Created by anthony on 2017/8/2.\n */\n(function () {\n    var datapicker = window.datapicker;\n    var monthData, $wrapper;\n    datapicker.buildUi = function (year, month) {\n        monthData = datapicker.getMonthData(year, month);\n        var html = '<div class=\"ui-datapicker-header\">' +\n            '<a href=\"#\" class=\"ui-datapicker-btn ui-datapicker-btn-prev\">&lt;</a>' +\n            '<span class=\"ui-datapicker-curr-month\">'\n            + monthData.year + '-' + monthData.month +\n            '</span>' +\n            '<a href=\"#\" class=\"ui-datapicker-btn ui-datapicker-btn-next\">&gt;</a>' +\n            '</div>' +\n            '<div class=\"ui-datapicker-body\">' +\n            '<table>' +\n            '<thead>' +\n            '<tr>' +\n            '<th>日</th>' +\n            '<th>一</th>' +\n            '<th>二</th>' +\n            '<th>三</th>' +\n            '<th>四</th>' +\n            '<th>五</th>' +\n            '<th>六</th>' +\n            '</tr>' +\n            '</thead>' +\n            '<tbody>';\n        for (var i = 0; i < monthData.days.length; i++) {\n            var date = monthData.days[i];\n            if (i % 7 == 0) {\n                html += '<tr>';\n            }\n            html += '<td data-date=\"' + date.date + '\">' + date.showDate + '</td>';\n            if (i % 7 == 6) {\n                html += '</tr>'\n            }\n        }\n        html += '</tbody>' +\n            '</table>' +\n            '</div>';\n        return html;\n    };\n    datapicker.render = function (direction) {\n        var year, month;\n        if (monthData) {\n            year = monthData.year;\n            month = monthData.month;\n        }\n        if (direction === 'prev') month--;\n        if (direction === 'next') month++;\n        var innHtml = datapicker.buildUi(year, month);\n        $wrapper = document.querySelector('.ui-datapicker-wrapper');\n\n        if (!$wrapper) {\n            $wrapper = document.createElement('div');\n            document.body.appendChild($wrapper);\n            $wrapper.className = \"ui-datapicker-wrapper ui-datapicker-wrapper-show\";\n        }\n        $wrapper.innerHTML = innHtml;\n    };\n    datapicker.init = function (input) {\n        datapicker.render();\n        var $input = document.querySelector(input);\n        var isOpen = true;\n\n        $input.addEventListener('click', function () {\n            if (isOpen) {\n                //显示日历\n                $wrapper.classList.remove('ui-datapicker-wrapper-show');\n                //获取输入框位置\n                var left = $input.offsetLeft;\n                var top = $input.offsetTop;\n                var height = $input.offsetHeight;\n                //写入日历本的位置\n                $wrapper.style.top = top + height + 2 + 'px';\n                $wrapper.style.left = left + 'px';\n                isOpen = false;\n            } else {\n                // 隐藏日历\n                $wrapper.classList.add('ui-datapicker-wrapper-show');\n                isOpen = true;\n            }\n        }, false);\n        //切换月份\n        $wrapper.addEventListener('click', function (e) {\n            var $target = e.target;\n            if (!$target.classList.contains('ui-datapicker-btn')) return false;\n            //    上一月\n            if ($target.classList.contains('ui-datapicker-btn-prev')) {\n                datapicker.render('prev');\n            } else if ($target.classList.contains('ui-datapicker-btn-next')) {\n                datapicker.render('next');\n            }\n\n        }, false);\n        //点击事件\n        $wrapper.addEventListener('click', function (e) {\n            var $target = e.target;\n            if ($target.tagName.toLowerCase() !== 'td') return false;\n\n            var date = new Date(monthData.year, monthData.month, $target.dataset.date);\n            $input.value = format(date);\n            //隐藏日历\n            $wrapper.classList.add('ui-datapicker-wrapper-show');\n            isOpen = true;\n        }, false);\n    };\n    function format(date) {\n        var ret = '';\n        var padding = function (num) {\n            if (num <= 9) {\n                return '0' + num;\n            }\n            return num;\n        };\n        ret += date.getFullYear() + '-';\n        ret += padding(date.getMonth() + 1) + '-';\n        ret += padding(date.getDate());\n        return ret;\n    }\n})();"]}