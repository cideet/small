<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>页面加载loading</title>
    <link type="text/css" rel="stylesheet" href="css.css"/>
    <script src="jquery.min.js"></script>
</head>
<body>
<p>https://www.imooc.com/learn/858</p>
<p>页面加载状态改变时的事件document.onreadystatechange</p>
<p>返回当前文档的状态document.readyState</p>
<p>uninitialized 还未开始载入</p>
<p>loading 载入中</p>
<p>interactive 已加载，文档与用户可以开始交互</p>
<p>complete 载入完成</p>
<a href="index2.html">定位在头部的进度条</a>
<div class="div">
    <img src="http://img18.3lian.com/d/file/201709/13/54504c3f3d655c97c58c67d402fce69a.jpg"/>
    <img src="http://img18.3lian.com/d/file/201709/13/4cc61324f5ff65610751296829b7f32d.jpg"/>
    <img src="http://img18.3lian.com/d/file/201709/13/5bb35dfb982ffa92a9ccb9e4358b0168.jpg"/>
</div>

<script>
    //第一种：假loading
    //var loadingBox = '<div class="loading-container"><img src="loading.gif"/></div>';
    //$('body').append(loadingBox);
    //setTimeout(function () {
    //    $('.loading-container').fadeOut();
    //}, 2000);

    //第二种：loading图片
    //var loadingBox = '<div class="loading-container"><img src="loading.gif"/></div>';
    //$('body').append(loadingBox);
    //document.onreadystatechange = function () {
    //    console.log(document.readyState);
    //    if (document.readyState === 'complete') {
    //        $('.loading-container').fadeOut();
    //    }
    //};

    //第三种：CSS3 loading
    var loadingBox = '<div class="loading-container"><div class="css3">';
    loadingBox += '<i></i><i></i><i></i><i></i><i></i></div></div>';
    $('body').append(loadingBox);
    document.onreadystatechange = function () {
        console.log(document.readyState);
        if (document.readyState === 'complete') {
            $('.loading-container').fadeOut();
        }
    };
</script>

</body>
</html>